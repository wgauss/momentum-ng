<ng-template #content let-modal>
	<div class="modal-header">
		<h4 class="modal-title">{{event.title}} | {{event.date}}</h4>
		<button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
	</div>
	<div class="modal-body">
		<p>{{event.desc}}</p>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-secondary" (click)="modal.close('Close click')">Close</button>
	</div>
</ng-template>

<div class="calendar-container">
	<div class="top-display-container">
	  <div>
		<div class="topDisplay">
			<button (click)="changeMonth(-1)" class="buttonFull">←</button>
			<span>{{ displayMonth }}</span>
			<button (click)="changeMonth(1)" class="buttonFull">→</button>
		</div>
		<hr/>
		<div class="topDisplay">
			<button (click)="changeMonth(-12)" class="buttonFull">←</button>
			<input [value]="currentDate.getFullYear()" (change)="onYearChange($event)" class="year-input" />
			<button (click)="changeMonth(12)" class="buttonFull">→</button>
		</div>
		<div class="topDisplay" *ngIf="!isCurrentDate(referenceDate)">
			<button (click)="changeToCurrentDay()" class="buttonGhost">Go To Current Day</button>
		</div>
	  </div>
	</div>
	<div class="weekdays">
	  <div *ngFor="let day of weekdays" class="weekday">{{ day }}</div>
	</div>
	<div class="calendar">
	  <div *ngFor="let week of calendar" class="calendar-week">
		<div *ngFor="let day of week" class="calendar-day" [style.height.px]="computedHeight" >
			<span class="calendar-number" *ngIf="day.toLocaleDateString() != referenceDate.toLocaleDateString()">{{ formatDay(day) }}</span>
			<span  class="today" *ngIf="day.toLocaleDateString() == referenceDate.toLocaleDateString()">{{ day.toLocaleDateString() }} &nbsp; <i>Today</i></span>
			<div style="display: flex; justify-content: center;">
				<div style="height: 3px; border-radius: 5px; width: 95%; background-color: rgb(73, 70, 70);"></div>
			</div>
			<div *ngFor="let event of events">
				<div class="calendarEventsForDay" *ngIf="checkEventDay(event, day)">
					<div class="event">
						<div class="btn-group me-3 block">
							<div class="btn-group" ngbDropdown role="group" aria-label="Button group with nested dropdown" class="event" [ngStyle]="{ 'background-color': event.color }" ngbDropdown container="body">
								<div style="display: flex;">
									<button type="button" class="eventTitle" (click)="openEventModal(content, event)">{{event.title}}</button>
									<button type="button" class="buttonGhost dropdown-toggle-split" ngbDropdownToggle></button>
								</div>
								<div class="dropdown-menu" ngbDropdownMenu>
									<button ngbDropdownItem>Edit</button>
									<button ngbDropdownItem>Duplicate</button>
									<button ngbDropdownItem>Move</button>
									<div class="dropdown-divider"></div>
									<button ngbDropdownItem>Delete</button>
								</div>
							</div>
						</div>
						<div class="eventDesc" *ngIf="range <= 3">
							<hr/>
							{{event.description}}
						</div>
					</div>
				</div>
			</div>
		</div>
	  </div>
	  <div class="topDisplay">
		<input type="number" min="1" max="5" [value]="range" (change)="onRangeChange($event)" class="year-input"/>
	  </div>
	</div>
  </div>